{"version":3,"sources":["app.js","controllers/currency.js","service/currency.service.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"jsapp.js","sourcesContent":["'use strict';\r\nvar appModule = angular.module( 'cc', [\r\n        'cc.ccService'\r\n        , 'cc.main'\r\n    ]\r\n);\r\n","'use strict';\r\n\r\nvar ccModule = angular.module( 'cc.main', ['cc.ccService'] );\r\n\r\nccModule.controller( 'CurrencyCtrl', ['$scope', '$timeout', 'ccService',\r\n    function($scope, $timeout, ccService) {\r\n        $scope.formObj = {\r\n            fromCur: 'CAD',\r\n            fromAmount: 1,\r\n            toCur: 'USD'\r\n        };\r\n\r\n        $scope.formObj.toAmount = 0;\r\n\r\n        function convert() {\r\n            ccService.convert( $scope.formObj ).then( function(res) {\r\n                var amount = $scope.formObj.fromAmount * res.rate;\r\n                amount = amount.toFixed( 2 );\r\n                $scope.formObj.toAmount = amount;\r\n            } );\r\n        }\r\n\r\n\r\n        $scope.update = function() {\r\n            convert();\r\n        };\r\n\r\n        $scope.switcher = false;\r\n        $scope.toggleModal = function(switcher) {\r\n            $scope.switcher = switcher;\r\n            document.getElementById( \"modal-disclaimer\" ).classList.toggle( \"visible\", switcher );\r\n\r\n        }\r\n\r\n    }\r\n] );\r\n","'use strict';\r\n\r\nvar serviceModule = angular.module( 'cc.ccService', [] );\r\n\r\nserviceModule.factory( \"ccService\", ['$q', '$timeout', '$http',\r\n    function($q, $timeout, $http) {\r\n\r\n        var conv_data = null;\r\n\r\n        function convert(req) {\r\n            if(conv_data) {\r\n                $timeout.cancel( conv_data );\r\n            }\r\n            var res = {\r\n                rate: 1,\r\n                desc: 'Subject to change without notice, 15 minutes delayed.'\r\n            };\r\n\r\n            conv_data = $timeout( function() {\r\n                return $http.get( 'https://api.fixer.io/latest?base=' + req.fromCur + '&symbols=' + req.toCur );\r\n            }, 100 );\r\n\r\n            var calc_data = conv_data.then( function(result) {\r\n                var rates = result.data.rates;\r\n                res.rate = rates[req.toCur];\r\n                return res\r\n            } );\r\n\r\n            return calc_data;\r\n        }\r\n\r\n        return {\r\n            convert: convert\r\n        };\r\n    }\r\n] );\r\n"]}